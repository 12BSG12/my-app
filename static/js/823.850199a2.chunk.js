"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[823],{7823:function(t,e,r){r.r(e),r.d(e,{default:function(){return G}});var s=r(5671),a=r(3144),n=r(136),u=r(8557),i=r(1413),o=r(2791),l="Post_item__stdHa",c="Post_avatar__Fg5Aj",f="Post_text__-ktr0",d="Post_likes__YZHy5",p=r(184),m=function(t){return(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)("img",{className:c,src:"https://via.placeholder.com/50",alt:""}),(0,p.jsx)("div",{className:f,children:t.message}),(0,p.jsxs)("div",{className:d,children:["like ",t.likesCount]})]})},h="Mypost_form__RxdAp",_="Mypost_title__nqqbb",v="Mypost_textarea__CjGcG",x="Mypost_btn__8Fbsx",j="Mypost_posts__cwa5z",S=r(6139),g=r(704),k=r(5760),P=(0,r(1469).W)("textarea"),C=(0,k.B)(300),b=(0,g.Z)({form:"mypost"})((function(t){var e=t.handleSubmit;return(0,p.jsxs)("form",{className:h,onSubmit:e,children:[(0,p.jsx)("label",{className:_,children:"My posts"}),(0,p.jsx)(S.Z,{className:v,component:P,name:"message",validate:[k.C,C],placeholder:"your news..."}),(0,p.jsx)("button",{className:x,children:"Send"})]})})),N=function(t){var e=t.postData,r=t.onSubmit,s=e.map((function(t,e){return(0,p.jsx)(m,{message:t.message,likesCount:t.likesCount},e)}));return(0,p.jsxs)("div",{children:[(0,p.jsx)(b,{onSubmit:r}),(0,p.jsx)("div",{className:j,children:s})]})},y="Header_header__9vgd4",D=function(){return(0,p.jsx)("header",{className:y,children:(0,p.jsx)("img",{src:"https://via.placeholder.com/1200x500"})})},Z={user:"User_user__CyFQa",avatar:"User_avatar__yju+a",avatar__img:"User_avatar__img__yxmVZ",body:"User_body__wdNFc",name:"User_name__s9EAK",links:"User_links__F1eu5",input:"User_input__NL6DR"},F=r(1408),T=r(885),U=function(t){var e=t.status,r=t.updateProfileStatusThunkCreator,s=(0,o.useState)(!1),a=(0,T.Z)(s,2),n=a[0],u=a[1],i=(0,o.useState)(e),l=(0,T.Z)(i,2),c=l[0],f=l[1];return(0,o.useEffect)((function(){f(e)}),[e]),(0,p.jsx)("div",{children:n?(0,p.jsx)("div",{children:(0,p.jsx)("input",{autoFocus:!0,onBlur:function(){u(!1),r(c)},className:Z.input,value:c,onChange:function(t){return f(t.target.value)}})}):(0,p.jsxs)("div",{onDoubleClick:function(){return u(!0)},children:["Status: ",e||"..."]})})},A=function(t){var e,r=t.contacts,s=t.updateProfileStatusThunkCreator,a=t.photos,n=t.fullName,u=t.profileStatus,i=t.aboutMe,o=Object.values(r).every((function(t){return null===t}))&&"...",l=Object.entries(r).map((function(t,e){return(0,p.jsx)("a",{href:t[1],target:"_blank",rel:"noreferrer noopener",children:t[1]?t[0]:null},e)}));return(0,p.jsxs)("div",{className:Z.user,children:[(0,p.jsx)("div",{className:Z.avatar,children:(0,p.jsx)("img",{className:Z.avatar__img,src:null!==(e=a.large)&&void 0!==e?e:F,alt:""})}),(0,p.jsxs)("div",{className:Z.body,children:[(0,p.jsx)("div",{className:Z.name,children:n}),(0,p.jsx)(U,{status:u,updateProfileStatusThunkCreator:s}),(0,p.jsxs)("div",{className:Z.about,children:["About me: ",null!==i&&void 0!==i?i:"..."]}),(0,p.jsxs)("div",{className:Z.contacts,children:[(0,p.jsxs)("div",{className:Z.contacts_title,children:["Contacts: ",o]}),(0,p.jsx)("div",{className:Z.links,children:l})]})]})]})},M=function(t){var e=t.userProfileData,r=t.profileStatus,s=t.updateProfileStatusThunkCreator;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(D,{}),(0,p.jsx)(A,(0,i.Z)((0,i.Z)({},e),{},{profileStatus:r,updateProfileStatusThunkCreator:s}))]})},w=function(t){var e=t.updateProfileStatusThunkCreator,r=t.postData,s=t.onSubmit,a=t.userProfileData,n=t.profileStatus;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M,{userProfileData:a,profileStatus:n,updateProfileStatusThunkCreator:e}),(0,p.jsx)(N,{postData:r,onSubmit:s})]})},q=r(8687),B=r(902),E=r(6070),H=r(6871),I=r(2291),O=r(7781),$=function(t){(0,n.Z)(r,t);var e=(0,u.Z)(r);function r(){var t;(0,s.Z)(this,r);for(var a=arguments.length,n=new Array(a),u=0;u<a;u++)n[u]=arguments[u];return(t=e.call.apply(e,[this].concat(n))).onSubmit=function(e){t.props.addPost(e.message),e.message=null},t}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){var t=this.props.params.userId;t||(t=this.props.defualutID),this.props.setUserProfileThunkCreator(t),this.props.setProfileStatusThunkCreator(t)}},{key:"render",value:function(){var t=this.props,e=t.userProfileData,r=t.postData,s=t.profileStatus,a=t.updateProfileStatusThunkCreator;return(0,p.jsx)("main",{children:!e||this.props.isFetching?(0,p.jsx)(B.Z,{}):(0,p.jsx)(w,{userProfileData:e,postData:r,profileStatus:s,updateProfileStatusThunkCreator:a,onSubmit:this.onSubmit})})}}]),r}(o.Component),G=(0,O.qC)((0,q.$j)((function(t){return{userProfileData:t.profilePage.userProfileData,isFetching:t.profilePage.isFetching,postData:t.profilePage.postData,defualutID:t.auth.id,profileStatus:t.profilePage.profileStatus}}),{setUserProfileThunkCreator:E.nA,setProfileStatusThunkCreator:E.$p,updateProfileStatusThunkCreator:E.fd,addPost:E.q2}),(function(t){return function(e){var r=(0,H.UO)();return(0,p.jsx)(t,(0,i.Z)((0,i.Z)({},e),{},{params:r}))}}),I.S)($)},1469:function(t,e,r){r.d(e,{W:function(){return l}});var s=r(1413),a=r(5987),n="FormControl_error__4Y94v",u="FormControl_errorText__E2s0Q",i=r(184),o=["input","meta"],l=function(t){return function(e){var r=e.input,l=e.meta,c=(0,a.Z)(e,o),f=l.touched&&l.error;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t,(0,s.Z)((0,s.Z)({className:""+(f?n:"")},r),c)),f&&(0,i.jsx)("div",{className:u,children:l.error})]})}}},2291:function(t,e,r){r.d(e,{S:function(){return o}});var s=r(1413),a=r(6871),n=r(8687),u=r(184),i=function(t){return{isAuth:t.auth.isAuth}},o=function(t){return(0,n.$j)(i)((function(e){return e.isAuth?(0,u.jsx)(t,(0,s.Z)({},e)):(0,u.jsx)(a.Fg,{to:"/login"})}))}},5760:function(t,e,r){r.d(e,{B:function(){return a},C:function(){return s}});var s=function(t){if(!t)return"Field is required"},a=function(t){return function(e){if(e.length>t)return"max length ".concat(t," is symbols")}}}}]);
//# sourceMappingURL=823.850199a2.chunk.js.map